#!/bin/bash

round() {
    echo $1 | awk '{ printf("%.0f\n", $1) }'
}

darker() {
    local color=$1
    factor=`echo "scale=2; 1 - (12/100)" | bc`
    r=$((16#${color:1:2}))
    g=$((16#${color:3:2}))
    b=$((16#${color:5:2}))
    r=$(round `echo "scale=0; $r * $factor" | bc`)
    g=$(round `echo "scale=0; $g * $factor" | bc`)
    b=$(round `echo "scale=0; $b * $factor" | bc`)
    printf "#%02x%02x%02x" $r $g $b
}

CPT_B=0
CPT_S=8
count=0
bold=0
while read HEXCODE; do
    if [ $count -le 7 ]; then
        if [ $bold -eq 0 ]; then
            printf '*color%d: %s\n' "$CPT_B" "$HEXCODE"
            let CPT_B++
            d=$(darker $HEXCODE)
            printf '*color%d: %s\n' "$CPT_S" "$d"
            let CPT_S++
        fi
    fi
    let count++
done | column -t
